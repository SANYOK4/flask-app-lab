{% extends 'base.html' %}

{% block title %}Posts{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>All Posts</h2>
    <a href="{{ url_for('posts.create') }}" class="btn btn-primary">Create New Post</a>
</div>

{% for post in posts %}
<div class="card mb-3">
    <div class="card-header d-flex justify-content-between">
        <span><strong>{{ post.type }}</strong> | {{ post.created.strftime('%Y-%m-%d %H:%M') }}</span>
        <span>
            {% if post.enabled %}
                <span class="badge bg-success">Enabled</span>
            {% else %}
                <span class="badge bg-secondary">Disabled</span>
            {% endif %}
        </span>
    </div>
    <div class="card-body">
        <h5 class="card-title">{{ post.title }}</h5>
        <p class="card-text">{{ post.text }}</p>
        
        <div class="mb-2">
            <small class="text-muted">Author: <strong>{{ post.user.username }}</strong></small>
        </div>

        <div class="mb-3">
            {% for tag in post.tags %}
                <span class="badge bg-warning text-dark">{{ tag.name }}</span>
            {% endfor %}
        </div>
        
        <a href="{{ url_for('posts.update', id=post.id) }}" class="btn btn-sm btn-warning">Edit</a>
        <a href="{{ url_for('posts.delete', id=post.id) }}" class="btn btn-sm btn-danger">Delete</a>
    </div>
</div>
{% else %}
    <p>Постів ще немає.</p>
{% endfor %}

{% endblock %}